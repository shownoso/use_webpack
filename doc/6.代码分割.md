### Code Splitting

1. 入口点：通过entry配置手动拆分，并通过优化防止重复
2. 动态导入

```bash
# 安装lodash作为实验
npm i -S lodash
```
### 通过设置入口点手动拆分
修改并使src/another-module.js和src/index.js相同
```js
import _ from 'lodash';
console.log(
  _.join(['Another', 'module', 'loaded!'], ' ')
);
```
修改 build/webpack.common.js
```js
{
  entry: {
    index: './src/index.js',
    another: './src/another-module.js',
  },
  output: {
    filename: '[name].bundle.js',
    path: path.resolve(__dirname, '../dist')
  },
}
```
- another.bundle.js   78.2 KiB 
- index.bundle.js   78.2 KiB 
- 公共部分的lodash是重复的，lodash应当被分离出来并被共享

#### 使用优化防止重复
在 build/webpack.common.js 添加优化
```js
optimization: {
  splitChunks: {
    chunks: 'all',
  },
},
```
- vendors~another~index.bundle.js   77.2 KiB
- another.bundle.js   1.63 KiB 
- index.bundle.js   1.63 KiB
- 分离成功


#### 动态导入
